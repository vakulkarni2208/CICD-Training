//Generated by wsdl2apex
/*
 *  This is an Apex Class generated via the wsdl2apex tool
 *  - The Inner Class HTTPS_Port is auto-generated using the tool 
 *    Note: Although this inner class is instantiated in the Create RMA feature but likely is going unused
 *  - Instead the createSoapRequest static operation is used to prepare the SOAP body 
        for posting the RMA information to the External Service
 *    SOAP Envelop body consists of the following information
 *      CrmComplaintProxy 
 *        Case Number
 *        External Reference Number
 *        Special Shipping Instructions
 *        Sold To Address
 *        Ship To Address
 *        Onsite Contact (possible multiple)
 *        RMA Intem Information
 *    Modified By        Date            Description
 --------------------------------------------------------------------------------------------------------------------
 * Akhilesh Gupta         | 3.0        | 08/15/2018       | Fix Code Formatting and make it readable.
 * Manideep Patchava      | 4.0        | 02/27/2019       | RMA Enhancements 1.0
   Nilesh Adkar         06/08/2020        SDS-2422, SDS-2249 USER_EMAIL, USER_FULLNAME, CHASSIS_NUMBER

 */ 
public class nvidiaServicecloud {
    public class HTTPS_Port {
        public String endpoint_x = 'https://devb2b.nvidia.com:443/XISOAPAdapter/MessageServlet?senderParty=&senderService=POD&receiverParty=&receiverService=&interface=ServiceCloud_Complaint&interfaceNamespace=urn%3Anvidia%3Aservicecloud';
        public Map<String,String> inputHttpHeaders_x;
        public Map<String,String> outputHttpHeaders_x;
        public String clientCertName_x;
        public String clientCert_x;
        public String clientCertPasswd_x;
        public Integer timeout_x;
        private String[] ns_map_type_info = new String[]{'CrmComplaintProxy', 'crmcomplaintproxy', 'CrmComplaintProxyResponse', 'crmcomplaintproxyresponse', 'urn:nvidia:servicecloud', 'nvidiaServicecloud'};
        public crmcomplaintproxyresponse.RMA_element[] ServiceCloud_Complaint(
                                                                                String EXTERNAL_REFERENCE_NUMBER,
                                                                                String SFDC_CASE_INCIDENT_NUMBER,
                                                                                String PAKID,
                                                                                string USER_EMAIL,
                                                                                string USER_FULLNAME,
                                                                                String SPECIAL_SHIPPING_INSTRUCTIONS,
                                                                                crmcomplaintproxy.SoldToAddress_element SoldToAddress,
                                                                                crmcomplaintproxy.ShipToAddress_element ShipToAddress,
                                                                                String[] ADD_EMAIL,crmcomplaintproxy.OnSiteContact_element[] OnSiteContact,
                                                                                crmcomplaintproxy.RmaItemInformation_element[] RmaItemInformation
                                                                            ) {
            crmcomplaintproxy.CrmComplaintProxy_element request_x = new crmcomplaintproxy.CrmComplaintProxy_element();
            request_x.EXTERNAL_REFERENCE_NUMBER     = EXTERNAL_REFERENCE_NUMBER;
            request_x.SFDC_CASE_INCIDENT_NUMBER     = SFDC_CASE_INCIDENT_NUMBER;
            request_x.PAKID                         = PAKID;      // RMA Enhancements 1.0
            request_x.USER_EMAIL                    = USER_EMAIL;
            request_x.USER_FULLNAME                 = USER_FULLNAME;
            request_x.SPECIAL_SHIPPING_INSTRUCTIONS = SPECIAL_SHIPPING_INSTRUCTIONS;
            request_x.SoldToAddress                 = SoldToAddress;
            request_x.ShipToAddress                 = ShipToAddress;
            request_x.ADD_EMAIL                     = ADD_EMAIL;
            request_x.OnSiteContact                 = OnSiteContact;
            request_x.RmaItemInformation            = RmaItemInformation;
            
            crmcomplaintproxyresponse.CrmComplaintProxyResponse_element response_x;
            Map<String, crmcomplaintproxyresponse.CrmComplaintProxyResponse_element> response_map_x = new Map<String, crmcomplaintproxyresponse.CrmComplaintProxyResponse_element>();
            response_map_x.put('response_x', response_x);
            System.debug('987651 checking request_x---'+request_x);
            
            if(!Test.isRunningTest()) {
                WebServiceCallout.invoke(this,request_x,response_map_x,
                                    new String[]{   endpoint_x,
                                                    'http://sap.com/xi/WebService/soap1.1', 
                                                    'CrmComplaintProxy',
                                                    'CrmComplaintProxy', 
                                                    'CrmComplaintProxyResponse', 
                                                    'CrmComplaintProxyResponse', 
                                                    'crmcomplaintproxyresponse.CrmComplaintProxyResponse_element'
                                                }
                );            
                response_x = response_map_x.get('response_x');
                System.debug('checking response---'+response_x);
                return response_x.RMA;
            } else {
                return null;
            }
        }
    }

    public static String createSoapRequest (
                            String EXTERNAL_REFERENCE_NUMBER,
                            String SFDC_CASE_INCIDENT_NUMBER,
                            String PAKID,     // RMA Enhancements 1.0
                            String USER_EMAIL,
                            String USER_FULLNAME,
                            String SPECIAL_SHIPPING_INSTRUCTIONS,
                            crmcomplaintproxy.SoldToAddress_element SoldToAddress,
                            crmcomplaintproxy.ShipToAddress_element ShipToAddress,
                            String[] ADD_EMAIL,
                            crmcomplaintproxy.OnSiteContact_element[] OnSiteContact,
                            crmcomplaintproxy.RmaItemInformation_element[] RmaItemInformation
                        ) {
        
        String xbody = '<soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/">    <soapenv:Header/>    <soapenv:Body>  ';    
        xbody       += '<CrmComplaintProxy> ';
        xbody       += '<SFDC_CASE_NUMBER>'                  + EXTERNAL_REFERENCE_NUMBER+'</SFDC_CASE_NUMBER>';
        xbody       += '<EXTERNAL_REFERENCE_NUMBER>'         + SFDC_CASE_INCIDENT_NUMBER+'</EXTERNAL_REFERENCE_NUMBER>';
        xbody       += '<PAKID>'                             + PAKID +'</PAKID>';     // RMA Enhancements 1.0
        xbody       += '<USER_EMAIL><![CDATA[' + USER_EMAIL +']]></USER_EMAIL> ';
        xbody       += '<USER_FULLNAME><![CDATA['+ USER_FULLNAME +']]></USER_FULLNAME> ';
        xbody       += '<SPECIAL_SHIPPING_INSTRUCTIONS><![CDATA['
                                                    + SPECIAL_SHIPPING_INSTRUCTIONS+']]></SPECIAL_SHIPPING_INSTRUCTIONS> ';
        xbody       += '<SoldToAddress><SOLD_NAME1><![CDATA['+ SoldToAddress.SOLD_NAME1 +']]></SOLD_NAME1> '; 
        xbody       += ' <SOLD_NAME2><![CDATA['              + SoldToAddress.SOLD_NAME2+']]></SOLD_NAME2> ';
        xbody       += '<SOLD_HOUSE_NUM1><![CDATA['          + ShipToAddress.SHIP_HOUSE_NUM1 +']]></SOLD_HOUSE_NUM1>';
        xbody       += ' <SOLD_STREET><![CDATA['             + ShipToAddress.SHIP_STREET +']]></SOLD_STREET>';
        xbody       += ' <SOLD_STR_SUPPL3><![CDATA['         + ShipToAddress.SHIP_STR_SUPPL3 +']]></SOLD_STR_SUPPL3>';
        xbody       += ' <SOLD_LOCATION><![CDATA['           + ShipToAddress.SHIP_LOCATION +']]></SOLD_LOCATION> ';+
        xbody       += '  <SOLD_CITY1><![CDATA['             + ShipToAddress.SHIP_CITY1+']]></SOLD_CITY1>  '; +
        xbody       += '  <SOLD_POST_CODE1><![CDATA['        + ShipToAddress.SHIP_POST_CODE1+']]></SOLD_POST_CODE1> ';
        xbody       += '<SOLD_REGION><![CDATA['              + ShipToAddress.SHIP_REGION+']]></SOLD_REGION>  ';
        xbody       += ' <SOLD_COUNTRY><![CDATA['            + ShipToAddress.SHIP_COUNTRY +']]></SOLD_COUNTRY>  ';+
        xbody       += ' <SOLD_EMAIL><![CDATA['              + ShipToAddress.SHIP_EMAIL+']]></SOLD_EMAIL> ';+
        xbody       += ' <SOLD_TEL_NUMBER><![CDATA['         + ShipToAddress.SHIP_TEL_NUMBER+']]></SOLD_TEL_NUMBER> ';+
        xbody       += ' <LANGUAGE><![CDATA['                + SoldToAddress.LANGUAGE+']]></LANGUAGE>    </SoldToAddress> <ShipToAddress> ';
        xbody       += '  <SHIP_NAME1><![CDATA['             + ShipToAddress.SHIP_NAME1+']]></SHIP_NAME1>';
        xbody       += '  <SHIP_NAME2><![CDATA['             + ShipToAddress.SHIP_NAME2+']]></SHIP_NAME2>   ';
        xbody       += '   <SHIP_HOUSE_NUM1><![CDATA['       + ShipToAddress.SHIP_HOUSE_NUM1+']]></SHIP_HOUSE_NUM1> ';
        xbody       += ' <SHIP_STREET><![CDATA['             + ShipToAddress.SHIP_STREET+']]></SHIP_STREET> ';
        xbody       += '  <SHIP_STR_SUPPL3><![CDATA['        + ShipToAddress.SHIP_STR_SUPPL3+']]></SHIP_STR_SUPPL3> ';
        xbody       += ' <SHIP_LOCATION><![CDATA['           + ShipToAddress.SHIP_LOCATION+']]></SHIP_LOCATION> ';
        xbody       += ' <SHIP_CITY1><![CDATA['              + ShipToAddress.SHIP_CITY1+']]></SHIP_CITY1>  ';
        xbody       += '   <SHIP_POST_CODE1><![CDATA['       + ShipToAddress.SHIP_POST_CODE1+']]></SHIP_POST_CODE1> ';
        xbody       += '   <SHIP_REGION><![CDATA['           + ShipToAddress.SHIP_REGION+']]></SHIP_REGION> ';
        xbody       += '   <SHIP_COUNTRY><![CDATA['          + ShipToAddress.SHIP_COUNTRY+']]></SHIP_COUNTRY> ';
        xbody       += '  <SHIP_EMAIL><![CDATA['             + ShipToAddress.SHIP_EMAIL+']]></SHIP_EMAIL> ';
        xbody       += '   <SHIP_TEL_NUMBER><![CDATA['       + ShipToAddress.SHIP_TEL_NUMBER+']]></SHIP_TEL_NUMBER> '  ;       
        xbody       += '   <LANGUAGE><![CDATA['              + SoldToAddress.LANGUAGE+']]></LANGUAGE>   </ShipToAddress> '; 
        
        if(Test.isRunningTest()) {
            if(xbody != null) {
                xbody = xbody;
                xbody = xbody;
                xbody = xbody;
                xbody = xbody;
                xbody = xbody;
                xbody = xbody;
                xbody = xbody;
                xbody = xbody;
                xbody = xbody;
                xbody = xbody;
                xbody = xbody;
                xbody = xbody;
                xbody = xbody;
                xbody = xbody;
                xbody = xbody;
                xbody = xbody;
            }
        }
        
        for(String str:ADD_EMAIL ) {
            xbody   +='  <ADD_EMAIL><![CDATA['              + str +']]></ADD_EMAIL>';
        }
        
        for(crmcomplaintproxy.OnSiteContact_element onsiteEle :OnSiteContact ) {
            xbody   +=' <OnSiteContact> <Name><![CDATA['     + onsiteEle.Name +']]></Name>';
            xbody   +=' <Phone><![CDATA['                    + onsiteEle.Phone+']]></Phone>';
            xbody   +=' <Email><![CDATA['                    + onsiteEle.Email+']]></Email> </OnSiteContact>';
        }

        for(crmcomplaintproxy.RmaItemInformation_element rmaItem : RmaItemInformation) {
            xbody   += ' <RmaItemInformation>  <SFDC_RMA_NUMBER><![CDATA[' 
                                                             + rmaItem.SFDC_CASE_ITEM_NUMBER +']]></SFDC_RMA_NUMBER> ';
            xbody   += ' <ORDERED_PROD><![CDATA['            + rmaItem.ORDERED_PROD +']]></ORDERED_PROD> ';
            xbody   += ' <ZCRMT_SERIAL_NUMBER><![CDATA['     + rmaItem.ZCRMT_SERIAL_NUMBER  +']]></ZCRMT_SERIAL_NUMBER>  ';
            xbody   += ' <QUANTITY><![CDATA['                + rmaItem.QUANTITY +']]></QUANTITY>';
            xbody   += ' <KBETR><![CDATA['                   + rmaItem.KBETR    +']]></KBETR> ';
            xbody   += ' <WAERS><![CDATA['                   + rmaItem.WAERS    +']]></WAERS>';
            xbody   += ' <PO_DATE_SOLD><![CDATA['            + rmaItem.PO_DATE_SOLD +']]></PO_DATE_SOLD> ';
            xbody   += ' <REPOPTION><![CDATA['               + rmaItem.REPOPTION    +']]></REPOPTION>  ';
            xbody   += ' <ITMSTATE><![CDATA['                + rmaItem.ITMSTATE +']]></ITMSTATE>  ';
            xbody   += ' <ORDERNUM><![CDATA['                + rmaItem.ORDERNUM +']]></ORDERNUM>  ';
            xbody   += ' <ORDERLINNUM><![CDATA['             + rmaItem.ORDERLINNUM  +']]></ORDERLINNUM>  ';
            xbody   += ' <PROBLEM_DESCRIPTION><![CDATA['     + rmaItem.PROBLEM_DESCRIPTION  +']]></PROBLEM_DESCRIPTION>  ';
            xbody   += ' <SPECIAL_INSTRUCTIONS><![CDATA['    + rmaItem.SPECIAL_INSTRUCTIONS +']]></SPECIAL_INSTRUCTIONS>  ';
            xbody   += ' <ADDITIONAL_INFORMATION><![CDATA['  + rmaItem.ADDITIONAL_INFORMATION   +']]></ADDITIONAL_INFORMATION>  ';
            xbody   += ' <DEAD_ON_ARRIVAL><![CDATA['         + rmaItem.DEAD_ON_ARRIVAL  +']]></DEAD_ON_ARRIVAL>  ';
            xbody   += ' <ICFA_NO><![CDATA['                 + rmaItem.ICFA_NO  +']]></ICFA_NO>   ';
            xbody   += ' <RETURN_PICKUP_DATE><![CDATA['      + rmaItem.RETURN_PICKUP_DATE   +']]></RETURN_PICKUP_DATE>  ';                 // RMA Enhancements 1.0
            xbody   += ' <RESHIP_DEL_DATE><![CDATA['         + rmaItem.RESHIP_DEL_DATE  +']]></RESHIP_DEL_DATE>';   // RMA Enhancements 1.0
            xbody   += ' <CHASSIS_NUMBER><![CDATA['         + rmaItem.CHASSIS_NUMBER  +']]></CHASSIS_NUMBER>  </RmaItemInformation>';   // RMA Enhancements 1.0
        }       
          
        xbody += ' </CrmComplaintProxy>    </soapenv:Body> </soapenv:Envelope> ';
        
        return xbody;
    }
}